<body data-spy="scroll" data-target="#secondary_nav" data-offset="75">
<header class="header black_nav clearfix element_to_stick"
        style="background-color: #ffffff;box-shadow: 0 0 1px 0 #a8a5a5; height: 66px">
  <div class="container">
    <div id="logo">
      <a routerLink="">
        <img src="assets/img/logo_sticky.svg" width="162" height="35" alt="">
      </a>
    </div>
    <div class="layer"></div><!-- Opacity Mask Menu Mobile -->
    <ul class="top_menu">
      <li class="nav-item dropdown" style="border: 0">
        <a class="nav-link dropdown-toggle mr-lg-2" href="#" data-toggle="dropdown"
           aria-haspopup="true" aria-expanded="false">
          <i class="fa fa-fw fa-bell" style="padding-right: 10px"></i>
        </a>
        <div class="dropdown-menu" aria-labelledby="alertsDropdown"
             style="width: 300px;max-height: 500px;box-shadow: 5px 6px 6px 6px #888888;overflow: auto">
          <h6 class="dropdown-header">New Alerts:</h6>
          <div class="col-md-12"     >
            <div class="dropdown-divider"></div>
            <a class="dropdown-item alert-my-custom" href="#" style="margin-bottom: 10px" *ngFor="let p of listPayment"
            [routerLink]="['/list-order/user',userId]">
              <div style="padding: 0;margin: -8px 0">
                <div  *ngIf="p.status === 0">
                   <span class="text-success">
                              <strong style="color: red" ><i class="fa fa-long-arrow-down fa-fw"></i>Order</strong>
                            </span>
                  <div class="small"
                       style="font-weight: 500;margin: 0 ;overflow: hidden;text-overflow: ellipsis;width: 200px">
                    Your order with code #{{p.code}} has been canceled !!
                  </div>
                </div>
                <div  *ngIf="p.status === 1">
                   <span class="text-success">
                              <strong><i class="fa fa-long-arrow-up fa-fw"></i>Order</strong>
                            </span>
                  <div class="small"
                       style="font-weight: 500;margin: 0 ;overflow: hidden;text-overflow: ellipsis;width: 200px">
                    Your order with code #{{p.code}} is waiting for the seller to approve !!
                  </div>
                </div>
                <div  *ngIf="p.status === 2">
                   <span class="text-success">
                              <strong><i class="fa fa-long-arrow-up fa-fw"></i>Order</strong>
                            </span>
                  <div class="small"
                       style="font-weight: 500;margin: 0 ;overflow: hidden;text-overflow: ellipsis;width: 200px">
                    Your order with code #{{p.code}} is being shipped !!
                  </div>
                </div>
                <div  *ngIf="p.status === 3">
                   <span class="text-success">
                              <strong><i class="fa fa-long-arrow-up fa-fw"></i>Order</strong>
                            </span>
                  <div class="small"
                       style="font-weight: 500;margin: 0 ;overflow: hidden;text-overflow: ellipsis;width: 200px">
                    Your order with code #{{p.code}} is being delivered successfully !!
                  </div>
                </div>
              </div>
            </a>
          </div>
          <div class="dropdown-divider"></div>
        </div>
      </li>
    </ul>
    <ul class="top_menu">
      <li class="nav-item dropdown" style="border: none">
        <a class="nav-link dropdown-toggle mr-lg-2" id="alertsDropdown" href="#" data-toggle="dropdown"
           aria-haspopup="true" aria-expanded="false">
          <i class="fa-solid fa-cart-shopping" style="padding-right: 10px"></i>
        </a>
        <div class="dropdown-menu" aria-labelledby="alertsDropdown"
             style="width: 310px;max-height: 700px;margin: 5px;box-shadow: 5px 8px 8px 8px #888888;">
          <h6 class="dropdown-header">Cart :</h6>
          <div class="dropdown-divider"></div>
          <div style="width: 100%;max-height: 500px;min-height: 200px;overflow: auto;">
            <div class="col-md-12">
              <div >
                <div  *ngFor="let i of listCart">
                  <div class="row" style="height: 60px;">
                    <div class="col-md-3">
                      <img src="{{map.get(i.product.id).name}}" alt="" style="width: 60px;height: 60px">
                    </div>
                    <div class="col-md-7" style="display: flex;">
                  <span style="padding: 8px;font-size: 13px;">{{i.product.name}}
                    <p style="margin-top: 5px;font-size: 14px;font-weight: 600">{{i.quantity}} x
                      ${{i.product.productMethod.price}}</p>
                  </span>
                    </div>
                    <div class="col-md-2" (click)="onDeleteProduct(i.product)">
                      <span style="font-size: 20px;font-weight: 400;color: red">X</span>
                    </div>
                  </div>
                  <div class="dropdown-divider"></div>
                </div>
              </div>
            </div>
          </div>
          <div class="dropdown-divider"></div>
          <div class="clearfix add_bottom_15" style="margin-top: 15px"><strong>Total</strong><span> : ${{total}}</span>
          </div>
          <div style="margin-right: 15px">
            <div class="btn-cart-custom" [routerLink]="['/order/store',storeId]">View Cart</div>
            <div class="btn-cart-custom-outline " [routerLink]="['/order/store',storeId]">Checkout</div>
          </div>
        </div>
      </li>
    </ul>
    <!-- /top_menu -->
    <a href="#0" class="open_close">
      <i class="icon_menu"></i><span>Menu</span>
    </a>
    <nav class="main-menu">
      <div id="header_menu">
        <a href="#0" class="open_close">
          <i class="icon_close"></i><span>Menu</span>
        </a>
        <a href="index.html"><img src="assets/img/logo.svg" width="162" height="35" alt=""></a>
      </div>
      <ul>
        <li class="submenu">
          <a [routerLink]="['']" class="show-submenu">Home</a>
        </li>
        <li class="submenu" [hidden]="!isAdmin">
          <a [routerLink]="['/admin']" class="show-submenu">Manager</a>
        </li>
        <li class="submenu" [hidden]="isLoggedIn">
          <a href="accounts/login" class="show-submenu">Login</a>
        </li>
        <li class="submenu" [hidden]="!isLoggedIn">
          <a href="#0" class="show-submenu">Welcome! {{username}}</a>
          <ul>
            <li [hidden]="!isBuyer"><a [routerLink]="['/detail/user']">My Profile</a></li>
            <li [hidden]="!isSeller"><a [routerLink]="['/merchant']">My Profile</a></li>
            <li [hidden]="!isPartner"><a [routerLink]="['/users/merchant/', userId]">My Profile</a></li>
            <li><a href="#0" (click)="logOut()">Logout</a></li>
          </ul>
        </li>
      </ul>
    </nav>
  </div>
</header>
<main>
  <div >
    <div class="hero_in detail_page background-image"
         [ngStyle]="{'background': 'rgba(0, 0, 0, 0.3) url(' + store.logo + ') no-repeat'}">
      <div class="wrapper opacity-mask">
        <div class="container">
          <div class="main_info">
            <div class="row" style="color:#000;">
              <div class="col-xl-4 col-lg-5 col-md-6">
                <h1 style="color:#000;">{{store?.nameStore}}</h1>
                {{store?.addressStore}}
              </div>
              <div class="col-xl-8 col-lg-7 col-md-6">
              </div>
            </div>
            <!-- /row -->
          </div>
          <!-- /main_info -->
        </div>
      </div>
    </div>
  </div>
  <!--/hero_in-->
  <!-- /secondary_nav -->

  <div class="bg_gray">
    <div class="container margin_detail">
      <div class="row">
        <div class="col-lg-8 list_menu">
          <section id="section-1" style="padding-top: 0">
            <h4>Main Courses</h4>
            <div class="table_wrapper">
              <table class="table cart-list menu-gallery">
                <thead>
                <tr>
                  <th>
                    Item
                  </th>
                  <th>
                    Price
                  </th>
                  <th>
                    Order
                  </th>
                </tr>
                </thead>
                <tbody>
                <tr *ngFor="let p of listProductMains,index as index">
                  <td class="d-md-flex align-items-center">
                    <a type="button" data-toggle="modal" data-target="#exampleModalCenter" style="border-style: outset"
                       (click)="onDetailFood(p.product)">
                      <img src="{{p.name}}" alt="" style="width: 60px;height: 60px">
                    </a>
                    <div style="padding-left: 10px">
                      <h4>{{index + 1}}. {{p.product.name}}</h4>
                      <p>Category: <a style="color: red">{{p.product.productMethod.category.name}}</a></p>
                    </div>
                  </td>
                  <td>
                    <strong>${{p.product.productMethod.price}}</strong>
                  </td>
                  <td class="options">
                    <a class="add-cart"  (click)="onAddCart(p)"><i
                      class="icon_plus_alt2"></i></a>
                  </td>
                </tr>
                </tbody>
              </table>
            </div>
          </section>
          <section id="section-4">
            <h4>Drinks</h4>
            <div class="table_wrapper">
              <table class="table table-striped cart-list menu-gallery">
                <thead>
                <tr>
                  <th>
                    Item
                  </th>
                  <th>
                    Price
                  </th>
                  <th>
                    Order
                  </th>
                </tr>
                </thead>
                <tbody>
                <tr *ngFor="let p of listProductDrinks,index as index">
                  <td class="d-md-flex align-items-center">
                    <a type="button" data-toggle="modal" data-target="#exampleModalCenter" style="border-style: outset"
                       (click)="onDetailFood(p.product)">
                      <img src="{{p.name}}" alt="" style="width: 60px;height: 60px">
                    </a>
                    <div class="flex-md-column" style="padding-left: 10px">
                      <h4>{{index + 1}}. {{p.product.name}}</h4>
                      <p>Category: <a  style="color: red">{{p.product.productMethod.category.name}}</a></p>

                    </div>
                  </td>
                  <td>
                    <strong>${{p.product.productMethod.price}}</strong>
                  </td>
                  <td class="options" >
                    <a class="add-cart" (click)="onAddCart(p)"><i
                      class="icon_plus_alt2"></i></a>
                  </td>
                </tr>
                </tbody>
              </table>
            </div>
          </section>
          <!-- /section -->
        </div>
        <!-- /col -->

        <div class="col-lg-4" id="sidebar_fixed" style="padding-top: 37px;">
          <div class="box_order mobile_fixed" >
            <div class="head" style="background-color: #f13d3d">
              <h3 ><p style="color: whitesmoke;padding: 0;margin: 0">Order Summary</p></h3>
              <a href="#0" class="close_panel_mobile"><i class="icon_close"></i></a>
            </div>
            <!-- /head -->
            <div class="main">
              <ul class="clearfix col-md-12" style="max-height: 350px;overflow: auto;overflow-x: hidden;">
                <li *ngFor="let c of listCart" class="row"><p class="col-md-1"></p><a class="col-md-2"
                   (click)="onActionQuantity(c)">{{c.quantity}}x </a>
                  <a class="col-md-6" (click)="onDeleteProduct(c.product)">{{c.product.name}}</a>
                  <span class="col-md-2" style="float: right">${{c.price}}</span></li>
              </ul>
              <ul class="clearfix"><hr>
                <li>Subtotal<span>${{total}}</span></li>
                <li>Delivery fee<span>$10</span></li>
                <li class="total">Total<span>${{total+10}}</span></li>
              </ul>
              <div class="btn_1_mobile">
                <a [routerLink]="['/order/store',storeId]" class="btn_1 gradient full-width mb_5">Order Now</a>
                <div class="text-center"><small>No money charged on this steps</small></div>
              </div>
            </div>
          </div>
          <!-- /box_order -->
          <div class="btn_reserve_fixed"><a href="#0" class="btn_1 gradient full-width">View Basket</a></div>
        </div>
      </div>
      <!-- /row -->
    </div>
    <!-- /container -->
  </div>
  <!-- /bg_gray -->
</main>
<!-- /main -->
<div id="toTop"></div>

<footer>
  <app-home-footer></app-home-footer>
</footer>
<!-- /modal detail -->>

<div class="modal fade bd-example-modal-lg" id="exampleModalCenter" tabindex="-1" role="dialog"
     aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">{{product?.name}}</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="row">
          <!--        <slider image food>-->
          <div class="col-lg-7">
            <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
              <div class="carousel-inner" *ngIf="show">
                <div class="carousel-item active" style="justify-content: center">
                  <img class="d-block w-100" src="{{img?.name}}"
                       alt="Second slide"
                       style="width: 390px; height: 350px ; border-radius: 3%;border-style: outset">
                </div>
                <div class="carousel-item " style="justify-content: center"
                     *ngFor="let i of listImage">
                  <img class="d-block w-100" src="{{i.name}}"
                       alt="Second slide"
                       style="width: 390px; height: 350px ; border-radius: 3%;border-style: outset">
                </div>
              </div>
              <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
              </a>
              <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
              </a>
            </div>
          </div>
          <div class="col-lg-5">
            <table class="table table-striped">
              <tr>
                <td><p>Price :  ${{product?.productMethod?.price}}</p></td>
              </tr>
              <div>
                <tr>
                  <td><p>Category : <a style="color: red">{{product?.productMethod?.category?.name}}</a></p></td>
                </tr>
              </div>
              <tr>
                <td>Description :
                  <p>{{product?.productMethod?.description}}</p></td>
              </tr>
            </table>
            <div class="col-md-12">
              <div class="row">
                <div class="col-md-6"></div>
                <div class="col-md-5 btn-cart-custom" style="font-size: 16px; margin-top: 35px;font-weight: 500"
                      (click)="onAddCart(img)">
                  Add to cart
                </div>
              </div>
            </div>
          </div>
          <!--    </>slider image food>-->
        </div>
      </div>
      <div class="modal-footer">
      </div>
    </div>
  </div>
</div>
<!-- /modal detail -->>
</body>

