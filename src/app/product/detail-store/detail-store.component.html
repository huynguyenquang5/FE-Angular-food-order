<body data-spy="scroll" data-target="#secondary_nav" data-offset="75">
<header class="header black_nav clearfix element_to_stick"
        style="background-color: #ffffff;box-shadow: 0 0 1px 0 #a8a5a5">
  <div class="container">
    <div id="logo">
      <a routerLink="">
        <img src="assets/img/logo_sticky.svg" width="162" height="35" alt="">
      </a>
    </div>
    <div class="layer"></div><!-- Opacity Mask Menu Mobile -->
    <ul class="top_menu">
      <li class="nav-item dropdown" style="border: 0">
        <a class="nav-link dropdown-toggle mr-lg-2" href="#" data-toggle="dropdown"
           aria-haspopup="true" aria-expanded="false">
          <i class="fa fa-fw fa-bell"></i>
        </a>
        <div class="dropdown-menu" aria-labelledby="alertsDropdown"
             style="width: 300px;max-height: 500px;box-shadow: 5px 6px 6px 6px #888888;overflow: auto">
          <h6 class="dropdown-header">New Alerts:</h6>
          <div class="col-md-12"     >
            <div class="dropdown-divider"></div>
            <a class="dropdown-item alert-my-custom" href="#">
              <div style="padding: 0;margin: -8px 0">
                 <span class="text-success">
                              <strong><i class="fa fa-long-arrow-up fa-fw"></i>Status Update</strong>
                            </span>
                <div class="small"
                     style="font-weight: 500;margin: 0 ;overflow: hidden;text-overflow: ellipsis;width: 200px">
                  oi doi oi vai ca lon luon cai dit con me may chan vai ca lon luon
                </div>
              </div>
            </a>
          </div>
          <div class="dropdown-divider"></div>
        </div>
      </li>
    </ul>
    <ul class="top_menu">
      <li class="nav-item dropdown" style="border: none">
        <a class="nav-link dropdown-toggle mr-lg-2" id="alertsDropdown" href="#" data-toggle="dropdown"
           aria-haspopup="true" aria-expanded="false">
          <i class="fa-solid fa-cart-shopping" style="padding-right: 15px"></i>
        </a>
        <div class="dropdown-menu" aria-labelledby="alertsDropdown"
             style="width: 310px;max-height: 700px;margin: 5px;box-shadow: 5px 8px 8px 8px #888888;">
          <h6 class="dropdown-header">Cart :</h6>
          <div class="dropdown-divider"></div>
          <div style="width: 100%;max-height: 500px;min-height: 200px;overflow: auto;">
            <div class="col-md-12">
              <div >
                <div  *ngFor="let i of listCart">
                  <div class="row" style="height: 60px;">
                    <div class="col-md-3">
                      <img src="{{map.get(i.product.id).name}}" alt="" style="width: 60px;height: 60px">
                    </div>
                    <div class="col-md-7" style="display: flex;">
                  <span style="padding: 8px;font-size: 13px;">{{i.product.name}}
                    <p style="margin-top: 5px;font-size: 14px;font-weight: 600">{{i.quantity}} x
                      ${{i.product.productMethod.price}}</p>
                  </span>
                    </div>
                    <div class="col-md-2" (click)="onDeleteProduct(i.product)">
                      <span style="font-size: 20px;font-weight: 400;color: red">X</span>
                    </div>
                  </div>
                  <div class="dropdown-divider"></div>
                </div>
              </div>
            </div>
          </div>
          <div class="dropdown-divider"></div>
          <div class="clearfix add_bottom_15" style="margin-top: 15px"><strong>Total</strong><span> : ${{total}}</span>
          </div>
          <div style="margin-right: 15px">
            <div class="btn-cart-custom" [routerLink]="['/order/store',storeId]">View Cart</div>
            <div class="btn-cart-custom-outline " [routerLink]="['/order/store',storeId]">Checkout</div>
          </div>
        </div>
      </li>
    </ul>
    <ul class="drop_user top_menu">
      <li>
        <div class="dropdown user clearfix">
          <a data-toggle="dropdown">
            <figure><img src="assets/img/avatar1.jpg" alt=""></figure>
            <span style="padding-right: 5px">{{user.username}}</span>
          </a>
          <div class="dropdown-menu">
            <div class="dropdown-menu-content">
              <ul>
                <li><a href="#0" [routerLink]="['/detail/user',user.id]"><i class="icon_cog"></i>Dashboard</a></li>
                <li><a href="#0"><i class="fa-brands fa-shopify"></i>Shop</a></li>
                <li><a href="#0"><i class="icon_key"></i>Log out</a></li>
              </ul>
            </div>
          </div>
        </div>
        <!-- /dropdown -->
      </li>
    </ul>
    <!-- /top_menu -->
    <a href="#0" class="open_close">
      <i class="icon_menu"></i><span>Menu</span>
    </a>
    <nav class="main-menu">
      <div id="header_menu">
        <a href="#0" class="open_close">
          <i class="icon_close"></i><span>Menu</span>
        </a>
        <a href="index.html"><img src="assets/img/logo.svg" width="162" height="35" alt=""></a>
      </div>
      <ul>
        <li class="submenu">
          <a href="#0" class="show-submenu">Home</a>
          <ul>
            <li><a href="index-2.html">Search by Keyword</a></li>
            <li><a href="header-cart-top.html">Header Cart Top</a></li>
          </ul>
        </li>
        <li class="submenu">
          <a href="#0" class="show-submenu">Listing</a>
          <ul>
            <li><a href="order.html">Order</a></li>
            <li><a href="confirm.html">Confirm Order</a></li>
          </ul>
        </li>
        <li class="submenu">
          <a href="#0" class="show-submenu">Other Pages</a>
          <ul>
            <li><a href="admin_section/index.html" target="_blank">Admin Section</a></li>
          </ul>
        </li>
      </ul>
    </nav>
  </div>
</header>
<main>
  <div >
    <div class="hero_in detail_page background-image" id="background">
      <div class="wrapper opacity-mask">
        <div class="container">
          <div class="main_info">
            <div class="row" style="color:#000;">
              <div class="col-xl-4 col-lg-5 col-md-6">
                <div class="head">
                  <div class="score"><span>Superb<em>999 Reviews</em></span><strong>10.0</strong></div>
                </div>
                <h1 style="color:#000;">{{store?.nameStore}}</h1>
                {{store?.addressStore}} - <a
                href="https://www.google.com/maps/dir/CodeGym,+Ph%E1%BB%91+H%C3%A0m+Nghi,+M%E1%BB%B9+%C4%90%C3%ACnh+1,+M%E1%BB%B9+%C4%90%C3%ACnh+2,+T%E1%BB%AB+Li%C3%AAm,+H%C3%A0+N%E1%BB%99i/CodeGym,+Nh%C3%A0+s%E1%BB%91+23,+L%C3%B4+TT-01,+Khu+%C4%91%C3%B4+th%E1%BB%8B+MonCity,+Ph%E1%BB%91+H%C3%A0m+Nghi,+H%C3%A0+N%E1%BB%99i,+Vi%E1%BB%87t+Nam/@21.0357866,105.7331979,13z/data=!3m1!4b1!4m13!4m12!1m5!1m1!1s0x313454b9444c676b:0xe713200541b7456d!2m2!1d105.7682175!2d21.0357101!1m5!1m1!1s0x313454b9444c676b:0xe713200541b7456d!2m2!1d105.7682175!2d21.0357101"
                target="blank" style="color:#000;">Get Map</a>
              </div>
              <div class="col-xl-8 col-lg-7 col-md-6">
                <div class="buttons clearfix">
                  <a href="#0" class="btn_hero wishlist"><i class="icon_heart"></i>Wishlist</a>
                </div>
              </div>
            </div>
            <!-- /row -->
          </div>
          <!-- /main_info -->
        </div>
      </div>
    </div>
  </div>
  <!--/hero_in-->

  <nav class="secondary_nav sticky_horizontal">
    <div class="container">
      <ul id="secondary_nav">
        <li><a class="list-group-item list-group-item-action" href="store/{{storeId}}/#section-1">Main Courses</a></li>
        <li><a class="list-group-item list-group-item-action" href="store/{{storeId}}/#section-4">Drinks</a></li>
      </ul>
    </div>
    <span></span>
  </nav>
  <!-- /secondary_nav -->

  <div class="bg_gray">
    <div class="container margin_detail">
      <div class="row">
        <div class="col-lg-8 list_menu">
          <section id="section-1">
            <h4>Main Courses</h4>
            <div class="table_wrapper">
              <table class="table cart-list menu-gallery">
                <thead>
                <tr>
                  <th>
                    Item
                  </th>
                  <th>
                    Price
                  </th>
                  <th>
                    Order
                  </th>
                </tr>
                </thead>
                <tbody>
                <tr *ngFor="let p of listProductMains,index as index">
                  <td class="d-md-flex align-items-center">
                    <a type="button" data-toggle="modal" data-target="#exampleModalCenter" style="border-style: outset"
                       (click)="onDetailFood(p.product)">
                      <img src="{{p.name}}" alt="" style="width: 60px;height: 60px">
                    </a>
                    <div style="padding-left: 10px">
                      <h4>{{index + 1}}. {{p.product.name}}</h4>
                      <p>Category: <a style="color: red">{{p.product.productMethod.category.name}}</a></p>
                    </div>
                  </td>
                  <td>
                    <strong>${{p.product.productMethod.price}}</strong>
                  </td>
                  <td class="options">
                    <a class="add-cart"  (click)="onAddCart(p)"><i
                      class="icon_plus_alt2"></i></a>
                  </td>
                </tr>
                </tbody>
              </table>
            </div>
          </section>
          <section id="section-4">
            <h4>Drinks</h4>
            <div class="table_wrapper">
              <table class="table table-striped cart-list menu-gallery">
                <thead>
                <tr>
                  <th>
                    Item
                  </th>
                  <th>
                    Price
                  </th>
                  <th>
                    Order
                  </th>
                </tr>
                </thead>
                <tbody>
                <tr *ngFor="let p of listProductDrinks,index as index">
                  <td class="d-md-flex align-items-center">
                    <a type="button" data-toggle="modal" data-target="#exampleModalCenter" style="border-style: outset"
                       (click)="onDetailFood(p.product)">
                      <img src="{{p.name}}" alt="" style="width: 60px;height: 60px">
                    </a>
                    <div class="flex-md-column" style="padding-left: 10px">
                      <h4>{{index + 1}}. {{p.product.name}}</h4>
                      <p>Category: <a  style="color: red">{{p.product.productMethod.category.name}}</a></p>

                    </div>
                  </td>
                  <td>
                    <strong>${{p.product.productMethod.price}}</strong>
                  </td>
                  <td class="options" >
                    <a class="add-cart" (click)="onAddCart(p)"><i
                      class="icon_plus_alt2"></i></a>
                  </td>
                </tr>
                </tbody>
              </table>
            </div>
          </section>
          <!-- /section -->
        </div>
        <!-- /col -->

        <div class="col-lg-4" id="sidebar_fixed">
          <div class="box_order mobile_fixed" >
            <div class="head" style="background-color: #f13d3d">
              <h3 ><p style="color: whitesmoke;padding: 0;margin: 0">Order Summary</p></h3>
              <a href="#0" class="close_panel_mobile"><i class="icon_close"></i></a>
            </div>
            <!-- /head -->
            <div class="main">
              <ul class="clearfix col-md-12" style="max-height: 350px;overflow: auto;overflow-x: hidden;">
                <li *ngFor="let c of listCart" class="row"><p class="col-md-1"></p><a class="col-md-2"
                   (click)="onActionQuantity(c)">{{c.quantity}}x </a>
                  <a class="col-md-6" (click)="onDeleteProduct(c.product)">{{c.product.name}}</a>
                  <span class="col-md-2" style="float: right">${{c.price}}</span></li>
              </ul>
              <ul class="clearfix"><hr>
                <li>Subtotal<span>${{total}}</span></li>
                <li>Delivery fee<span>$10</span></li>
                <li class="total">Total<span>${{total+10}}</span></li>
              </ul>
              <div class="btn_1_mobile">
                <a [routerLink]="['/order/store',storeId]" class="btn_1 gradient full-width mb_5">Order Now</a>
                <div class="text-center"><small>No money charged on this steps</small></div>
              </div>
            </div>
          </div>
          <!-- /box_order -->
          <div class="btn_reserve_fixed"><a href="#0" class="btn_1 gradient full-width">View Basket</a></div>
        </div>
      </div>
      <!-- /row -->
    </div>
    <!-- /container -->
  </div>
  <!-- /bg_gray -->
</main>
<!-- /main -->
<div id="toTop"></div>

<footer>
  <app-home-footer></app-home-footer>
</footer>
<!-- /modal detail -->>

<div class="modal fade bd-example-modal-lg" id="exampleModalCenter" tabindex="-1" role="dialog"
     aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">{{product?.name}}</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="row">
          <!--        <slider image food>-->
          <div class="col-lg-7">
            <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
              <div class="carousel-inner" *ngIf="show">
                <div class="carousel-item active" style="justify-content: center">
                  <img class="d-block w-100" src="{{img.name}}"
                       alt="Second slide"
                       style="width: 390px; height: 350px ; border-radius: 3%;border-style: outset">
                </div>
                <div class="carousel-item " style="justify-content: center"
                     *ngFor="let img of listImage">
                  <img class="d-block w-100" src="{{img.name}}"
                       alt="Second slide"
                       style="width: 390px; height: 350px ; border-radius: 3%;border-style: outset">
                </div>
              </div>
              <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
              </a>
              <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
              </a>
            </div>
          </div>
          <div class="col-lg-5">
            <table class="table table-striped">
              <tr>
                <td><p>Price :  ${{product?.productMethod?.price}}</p></td>
              </tr>
              <div>
                <tr>
                  <td><p>Category : <a style="color: red">{{product?.productMethod?.category?.name}}</a></p></td>
                </tr>
              </div>
              <tr>
                <td>Description :
                  <p>{{product?.productMethod?.description}}</p></td>
              </tr>
            </table>
            <div class="col-md-12">
              <div class="row">
                <div class="col-md-6"></div>
                <div class="col-md-5 btn-cart-custom" style="font-size: 16px; margin-top: 35px;font-weight: 500"
                      (click)="onAddCart(img)">
                  Add to cart
                </div>
              </div>
            </div>
          </div>
          <!--    </>slider image food>-->
        </div>
      </div>
      <div class="modal-footer">
      </div>
    </div>
  </div>
</div>
<!-- /modal detail -->>
</body>

