<app-home-header></app-home-header>
<nav class="navbar navbar-expand-lg navbar-dark fixed-top" id="mainNav" style="background-color: #1c7a30">
  <a class="navbar-brand" href="index.html"><img src="assets/img/logo.svg" alt="" width="167" height="36"></a>
  <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse"
          data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false"
          aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarResponsive">
    <ul class="navbar-nav navbar-sidenav" id="exampleAccordion" style="width: 220px">
      <li class="nav-item" data-toggle="tooltip" data-placement="right" title="Profile">
        <a class="nav-link" [routerLink]="['/users/merchant']">
          <i class="fa fa-fw fa-user"></i>
          <span class="nav-link-text">My Profile</span>
        </a>
      </li>
      <li class="nav-item" data-toggle="tooltip" data-placement="right" title="Store">
        <a class="nav-link" [routerLink]="['/merchant/store']">
          <i class="fa fa-fw fa-store"></i>
          <span class="nav-link-text">My Store</span>
        </a>
      </li>
      <li class="nav-item" data-toggle="tooltip" data-placement="right" title="Store">
        <a class="nav-link" [routerLink]="['/store/payment-list/store', this.store?.id]">
          <i class="fa fa-fw fa-store"></i>
          <span class="nav-link-text">List payment</span>
        </a>
      </li>
    </ul>
    <ul class="navbar-nav sidenav-toggler" style="width: 220px">
      <li class="nav-item">
        <a class="nav-link text-center" id="sidenavToggler">
          <i class="fa fa-fw"></i>
        </a>
      </li>
    </ul>
    <ul class="navbar-nav ml-auto">
      <li class="nav-item">
        <a class="nav-link" data-toggle="modal" data-target="#logoutModal"><i
          class="fa fa-fw fa-sign-out"></i>Logout</a>
      </li>
    </ul>
  </div>
</nav>
<div class="content-wrapper" style="height: 100px;margin-top: 77px">
  <div>
    <table class="table table-hover">
      <tr>
        <th>STT</th>
        <th>Code</th>
        <th>Date</th>
        <th>Price</th>
        <th>Address</th>
        <th>Status</th>
      </tr>
      <tr *ngFor="let p of ListPayment,index as index">
        <td>{{index+1}}</td>
        <td class="code" [routerLink]="['/user/payment-detail/payment',p.id]" ><i class="fa-solid fa-eye"></i> {{p.code}}</td>
        <td>{{displayDate(p.date)}}</td>
        <td>${{p.price}}</td>
        <td>{{p.address.name}}</td>
        <td>
          <div *ngIf="0 === p.status">
            <div class="btn btn-warning" style="width: 80%">Canceled</div>
          </div>
          <div *ngIf="1 === p.status">
            <div class="btn btn-success" style="width: 40%"  data-toggle="modal" data-target="#deleteAddressModal"
                 (click)="onModal(p,'approves')">Approve</div>
            <div class="btn btn-danger" style="width: 40%;margin-left: 5px"data-toggle="modal" data-target="#deleteAddressModal"
                 (click)="onModal(p,'cancel')">Cancel</div>
          </div>
          <div *ngIf="2 === p.status">
            <div class="btn btn-success" style="width: 80%">Pending</div>
          </div>
          <div *ngIf="3 === p.status">
            <div class="btn btn-success" style="width: 80%">Success</div>
          </div>
        </td>
      </tr>
    </table>
  </div>
</div>
<div class="modal fade" id="deleteAddressModal" tabindex="-1" role="dialog" aria-labelledby="deleteAddressModalLabel"
     aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content" style="margin-top: 200px">
      <div class="modal-header">
        <h5 class="modal-title" id="deleteAddressModalLabel">Order</h5>
        <button class="close" type="button" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true" #ofModal>Ã—</span>
        </button>
      </div>
      <div class="modal-body" id="main"></div>
      <div class="modal-footer">
        <a class="btn btn-success" (click)="changeStatusPayment(payment,'approves')" *ngIf="!check" >Oke</a>
        <a class="btn btn-danger" (click)="changeStatusPayment(payment,'cancel')" *ngIf="check" >Oke</a>
      </div>
    </div>
  </div>
</div>
